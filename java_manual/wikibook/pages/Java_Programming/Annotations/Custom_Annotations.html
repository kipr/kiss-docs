<html><head><title>Java Programming/Annotations/Custom Annotations</title><link media="all" href="../../../misc/modern.css" type="text/css" rel="stylesheet"></head><body class="mediawiki"><div id="content"><h1 class="firstHeading" id="firstHeading">Java Programming/Annotations/Custom Annotations</h1><div id="bodyContent">
								
				
				
								
				
				
																
				
				
								
				<div lang="en" dir="ltr" class="mw-content-ltr"><table class="wikitable" style="float: right;"><tr><td>Navigate <b><a href="../Annotations.html" title="Java Programming/Annotations">Javadoc &amp; Annotations</a></b> topic:
<ul><li> <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Javadoc/Introduction&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Javadoc/Introduction (does not exist)">Introduction to Javadoc</a></li>
<li> <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Javadoc/xDoclet&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Javadoc/xDoclet (does not exist)">Introduction to XDoclet</a></li>
<li> <a href="Introduction.html" title="Java Programming/Annotations/Introduction">Introduction to Annotation</a></li>
<li> <strong class="selflink">Creating custom annotations</strong></li>
<li> <a href="Meta-Annotations.html" title="Java Programming/Annotations/Meta-Annotations">Meta-annotations</a></li>
<li> <a href="Compiler_and_Annotations.html" title="Java Programming/Annotations/Compiler and Annotations">Helping the compiler</a></li>
<li> <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Runtime_Processing&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Annotations/Runtime Processing (does not exist)">Processing annotations at runtime</a></li>
<li> <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Examples&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Annotations/Examples (does not exist)">A few examples of annotations</a></li>
<li> <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Annotation_Glossary&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Annotations/Annotation Glossary (does not exist)">A glossary of built-in annotations in Java</a></li>
</ul></td>
</tr></table><h2> <span class="mw-headline" id="Creating_Custom_Annotations">Creating Custom Annotations</span></h2>
<table id="toc" class="toc"><tr><td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul><li class="toclevel-1 tocsection-1"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Custom_Annotations&amp;printable=yes#Creating_Custom_Annotations"><span class="tocnumber">1</span> <span class="toctext">Creating Custom Annotations</span></a>
<ul><li class="toclevel-2 tocsection-2"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Custom_Annotations&amp;printable=yes#Annotation_Type_Declaration"><span class="tocnumber">1.1</span> <span class="toctext">Annotation Type Declaration</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Custom_Annotations&amp;printable=yes#Annotation_Element_Declarations"><span class="tocnumber">1.2</span> <span class="toctext">Annotation Element Declarations</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Annotations/Custom_Annotations&amp;printable=yes#Using_a_default_value"><span class="tocnumber">1.3</span> <span class="toctext">Using a default value</span></a></li>
</ul></li>
</ul></td>
</tr></table><p>Annotations can be viewed as a source of defining meta-data for a piece of code in Java. The annotation <code>@CodeDescription</code> used in the <a href="Introduction.html" title="Java Programming/Annotations/Introduction">previous section</a> does not come as a part of the Java API.</p>
<h3> <span class="mw-headline" id="Annotation_Type_Declaration">Annotation Type Declaration</span></h3>
<p>Before you can use an annotation with classes, theirs members and statements or expressions, you need to define an <i><b>annotation type</b></i>. Following is the syntax on how to define a type for the mentioned annotation.</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
@<span class="kw1">interface</span> CodeDescription
<span class="br0">{</span>
    <span class="kw3">String</span> author<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="kw3">String</span> version<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>That's it! Our first ever annotation has been defined. Now, we can use it with any of our classes. An annotation definition if you look closely resembles the definition of a normal interface, except that the <code>interface</code> keyword is preceded by the <b><code>@</code></b> character. Some refer to this syntactical declaration as the <i><b>annotation type declaration</b></i> due to the fact that @ is 'AT' or 'Annotation Type' for that very instance.</p>
<h3> <span class="mw-headline" id="Annotation_Element_Declarations">Annotation Element Declarations</span></h3>
<p>What look like methods in the body of the annotation definition are called <i><b>annotation element declarations</b></i>. These are the named entities that we used with the annotation body in the example in the <a href="Introduction.html" title="Java Programming/Annotations/Introduction">previous section</a>. However, for the sake of clarity, code below also represents the calling of the following annotation:</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">public</span> <span class="kw1">class</span> MyMethod
<span class="br0">{</span>
    @CodeDescription
    <span class="br0">(</span>
        author <span class="sy0">=</span> <span class="st0">"Unknown"</span>,
        version <span class="sy0">=</span> <span class="st0">"1.0.0.1"</span>
    <span class="br0">)</span>
    <span class="kw1">public</span> <span class="kw4">void</span> doSomething<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        ...
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<h3> <span class="mw-headline" id="Using_a_default_value">Using a default value</span></h3>
<p>Now, for instance, you want the annotation to know that if no value for the <code>version</code> element is present, then it should use a <i><b>default value</b></i>. Declaring a default value would be done the following way.</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
@<span class="kw1">interface</span> CodeDescription
<span class="br0">{</span>
    <span class="kw3">String</span> author<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="kw3">String</span> version<span class="br0">(</span><span class="br0">)</span> <span class="kw1">default</span> <span class="st0">"1.0.0.1"</span><span class="sy0">;</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>So, now if you use the same code again, you can ignore the <code>version</code> element because you know that the value is to be provided by default.</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">public</span> <span class="kw1">class</span> MyMethod
<span class="br0">{</span>
    @CodeDescription<span class="br0">(</span>author <span class="sy0">=</span> <span class="st0">"Unknown"</span><span class="br0">)</span>
    <span class="kw1">public</span> <span class="kw4">void</span> doSomething<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        ...
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>





</div>				
								
				
				
												
								
												
				
				
								<div class="visualClear"></div>
				
								
			</div>
			</div></body></html>