<html><head><title>Java Programming/Threads and Runnables</title><link media="all" href="../../misc/modern.css" type="text/css" rel="stylesheet"></head><body class="mediawiki"><div id="content"><h1 class="firstHeading" id="firstHeading">Java Programming/Threads and Runnables</h1><div id="bodyContent">
								
				
				
								
				
				
																
				
				
								
				<div lang="en" dir="ltr" class="mw-content-ltr"><table style="border-collapse:collapse; border:solid 1px #acacac; width:280px; float:right;" cellpadding="8" border="1"><tr><td colspan="2" style="text-align:center; background-color:#dedede">
<p><small>&#8592; <i><a href="Concurrent_Programming.html" title="Java Programming/Concurrent Programming">Concurrent Programming</a></i></small><br><b>Threads and Runnables</b></p>
</td>
</tr><tr><th style="text-align:right;">Level:</th>
<td>Intermediate</td>
</tr><tr><th style="text-align:right;" valign="top">Class(es) used:</th>
<td>
<ul><li><a rel="nofollow" class="external text" href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.html">Thread</a></li>
<li><a rel="nofollow" class="external text" href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Runnable.html">Runnable</a></li>
</ul></td>
</tr><tr><td colspan="2">
<table class="collapsible" width="100%"><tr><th>Chapter Navigation</th>
</tr><tr><td style="text-align:left;"><b>Concurrent Programming</b> topics
<ul><li><strong class="selflink">Threads and Runnables</strong> </li>
<li><a href="Basic_Synchronization.html" title="Java Programming/Basic Synchronization">Basic Synchronization</a> </li>
<li><a href="Client_Server.html" title="Java Programming/Client Server">Client Server Programming</a> </li>
<li><a href="Remote_Method_Invocation.html" title="Java Programming/Remote Method Invocation">Remote Method Invocation(RMI)</a> </li>
<li><a href="EJB.html" title="Java Programming/EJB">Enterprise JavaBean Programming</a> </li>
<li><a href="Jini.html" title="Java Programming/Jini">Jini-Java Spaces Programming</a> </li>
</ul></td>
</tr></table></td>
</tr></table><p>CPUs for any computer are designed to execute one task at <i>any given time</i>, yet we run multiple applications side-by-side and everything works in perfect congruence. It's not just because CPUs are extremely fast in performing calculations, it's because CPUs use a clever device of dividing their time amongst various tasks. Each application or task that is invoked on a computer gets associated with the CPU in the form of a <b>process</b>. A CPU therefore manages various processes, and jumps back and forth amongst each process giving it a fraction of its time and processing capability. This happens so fast that to a normal computer user it presents with the illusion of processes being run simultaneously. This capability of the CPU to divide its time amongst processes is called <b><a href="http://en.wikipedia.org/wiki/Computer_multitasking" class="extiw" title="w:Computer multitasking">multitasking</a></b>.</p>
<p>So, if we run a Java application on a computer, we are effectively creating a process with the CPU that gets a fraction of the CPU's time. In Java parlance, this main process gets called the <b><a href="http://en.wikipedia.org/wiki/Daemon_(computer_software)" class="extiw" title="w:Daemon (computer software)">daemon</a> process</b> or the <b>daemon thread</b>. But, Java goes one step further. It allows programmers to divide this daemon thread into several multiple threads which get executed simultaneously (much like a CPU) hence providing a Java application with a finer multitasking capability called <b><a href="http://en.wikipedia.org/wiki/Multithreading" class="extiw" title="w:Multithreading">multithreading</a></b>.</p>
<p>In this section, we will take a look at what threads are and how multithreading is implemented within a Java program to make it appear congruent and effectively fast to respond.</p>
<table id="toc" class="toc"><tr><td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul><li class="toclevel-1 tocsection-1"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Threads"><span class="tocnumber">1</span> <span class="toctext">Threads</span></a>
<ul><li class="toclevel-2 tocsection-2"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Creating_a_Runnable_process_block"><span class="tocnumber">1.1</span> <span class="toctext">Creating a Runnable process block</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Creating_threads"><span class="tocnumber">1.2</span> <span class="toctext">Creating threads</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Starting_threads"><span class="tocnumber">1.3</span> <span class="toctext">Starting threads</span></a></li>
</ul></li>
<li class="toclevel-1 tocsection-5"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Manipulating_threads"><span class="tocnumber">2</span> <span class="toctext">Manipulating threads</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Synchronization"><span class="tocnumber">3</span> <span class="toctext">Synchronization</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#Where_are_threads_used.3F"><span class="tocnumber">4</span> <span class="toctext">Where are threads used?</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#References"><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
</ul></td>
</tr></table><h2> <span class="mw-headline" id="Threads">Threads</span></h2>
<p>In light of the above discussion, a thread is the smallest unit of processing that can be scheduled by an operating system. Therefore, using threads, a programmer can effectively create two or more tasks<sup id="cite_ref-0" class="reference"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#cite_note-0">[1]</a></sup> that run at the same time. The first call-to-action is to implement a set of tasks that a particular thread would execute. To do so, we require the creation of a <code>Runnable</code> process.</p>
<h3> <span class="mw-headline" id="Creating_a_Runnable_process_block">Creating a Runnable process block</span></h3>
<p>A <code>Runnable</code> process block is a simple class that implements a <code>run()</code> method. Within the <code>run()</code> method is the actual task that needs to executed by a running thread. By implementing a class with the <code>Runnable</code> interface, we ensure that the class holds a <code>run()</code> method. Consider the following program:</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><img alt="Computer code" src="../../thumbs/0a23a_32px-Nuvola_apps_display.png" width="32" height="32"></td>
<td style="background-color:#f0f0ff; border-left: 4px solid blue; padding-left: 6px; font-family: Monaco, Consolas, 'Courier New', Courier; font-size:1.0em; line-height:1.5 !important;"><span id="code-listing-1"><b>Code listing 1: A runnable process</b></span>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">import</span> <span class="co2">java.util.Random</span><span class="sy0">;</span>
<span class="kw1">public</span> <span class="kw1">class</span> RunnableProcess <span class="kw1">implements</span> <span class="kw3">Runnable</span>
<span class="br0">{</span>
    <span class="kw1">private</span> <span class="kw3">String</span> name<span class="sy0">;</span>
    <span class="kw1">private</span> <span class="kw4">int</span> time<span class="sy0">;</span>
    <span class="kw1">private</span> <span class="kw3">Random</span> rand <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Random</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
 
    <span class="kw1">public</span> RunnableProcess<span class="br0">(</span><span class="kw3">String</span> name<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">this</span>.<span class="me1">name</span> <span class="sy0">=</span> name<span class="sy0">;</span>
        <span class="kw1">this</span>.<span class="me1">time</span> <span class="sy0">=</span> rand.<span class="me1">nextInt</span><span class="br0">(</span><span class="nu0">999</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
    <span class="kw1">public</span> <span class="kw4">void</span> run<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">try</span>
        <span class="br0">{</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">printf</span><span class="br0">(</span><span class="st0">"%s is sleeping for %d <span class="es0">\n</span>"</span>, <span class="kw1">this</span>.<span class="me1">name</span>, <span class="kw1">this</span>.<span class="me1">time</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">Thread</span>.<span class="me1">sleep</span><span class="br0">(</span><span class="kw1">this</span>.<span class="me1">time</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">printf</span><span class="br0">(</span><span class="st0">"%s is done <span class="es0">\n</span>"</span>, <span class="kw1">this</span>.<span class="me1">name</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">catch</span><span class="br0">(</span><span class="kw3">Exception</span> ex<span class="br0">)</span>
        <span class="br0">{</span>
            ex.<span class="me1">printStackTrace</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
</td>
</tr></table><p>In the above code, we create a class called <code>RunnableProcess</code> and implement the <code>Runnable</code> interface to ensure that we have a <code>run()</code> method in the class declaration.</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><a href="http://en.wikibooks.org/wiki/File:Nuvola_apps_edu_miscellaneous.png" class="image" title="Example"><img alt="Example" src="../../thumbs/8d764_32px-Nuvola_apps_edu_miscellaneous.png" width="32" height="32"></a></td>
<td style="background-color:#f0fff0; border-left: 4px solid green; padding-left: 6px;"><b>Code section 1.1: Implementing the <code>Runnable</code> interface</b>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">public</span> <span class="kw1">class</span> RunnableProcess <span class="kw1">implements</span> <span class="kw3">Runnable</span>
<span class="br0">{</span>
    ...
    <span class="kw1">public</span> <span class="kw4">void</span> run<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        ...
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
</td>
</tr></table><p>We then declare the rest of the logic for the class. For the constructor, we take a <code>String</code> parameter that would serve as the name of the class. Then, we initialize the class member variable <code>time</code> with a random number between <code>0</code> and <code>999</code>. To ensure the initialization of a random number, we use the <code>Random</code> class in the <code>java.util</code> package.</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><a href="http://en.wikibooks.org/wiki/File:Nuvola_apps_edu_miscellaneous.png" class="image" title="Example"><img alt="Example" src="../../thumbs/8d764_32px-Nuvola_apps_edu_miscellaneous.png" width="32" height="32"></a></td>
<td style="background-color:#f0fff0; border-left: 4px solid green; padding-left: 6px;"><b>Code section 1.2: Including ability to generate random integers between <code>0</code> and <code>999</code></b>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">import</span> <span class="co2">java.util.Random</span><span class="sy0">;</span>
...
<span class="kw1">private</span> <span class="kw3">Random</span> rand <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Random</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
...
<span class="kw1">this</span>.<span class="me1">time</span> <span class="sy0">=</span> rand.<span class="me1">nextInt</span><span class="br0">(</span><span class="nu0">999</span><span class="br0">)</span><span class="sy0">;</span>
</pre></div>
</div>
</td>
</tr></table><p>The actual task that would be executed per this runnable block is presented within the <code>run()</code> method. To keep safe from exceptions occurring because of the concurrent programming, we wrap the code within this method with a <code>try..catch</code> block. The executing task actually consists of just three statements. The first outputs the provided name for the Runnable process, and the last reports that the thread has executed. Perhaps the most intriguing part of the code is the second statement: <code>Thread.sleep(...)</code>.</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><a href="http://en.wikibooks.org/wiki/File:Nuvola_apps_edu_miscellaneous.png" class="image" title="Example"><img alt="Example" src="../../thumbs/8d764_32px-Nuvola_apps_edu_miscellaneous.png" width="32" height="32"></a></td>
<td style="background-color:#f0fff0; border-left: 4px solid green; padding-left: 6px;"><b>Code section 1.3: The actual runnable process task</b>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
...
<span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">printf</span><span class="br0">(</span><span class="st0">"%s is sleeping for %d <span class="es0">\n</span>"</span>, <span class="kw1">this</span>.<span class="me1">name</span>, <span class="kw1">this</span>.<span class="me1">time</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw3">Thread</span>.<span class="me1">sleep</span><span class="br0">(</span><span class="kw1">this</span>.<span class="me1">time</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">printf</span><span class="br0">(</span><span class="st0">"%s is done <span class="es0">\n</span>"</span>, <span class="kw1">this</span>.<span class="me1">name</span><span class="br0">)</span><span class="sy0">;</span>
...
</pre></div>
</div>
</td>
</tr></table><p>This statement allows the thread executing the current runnable block to halt its execution for the given amount of time. This time is presented in milliseconds. But for our convenience, this time would be the random number generated in the constructor and can be anywhere between <code>0</code> and <code>999</code> milliseconds. We will explore this in a later section. Creating a <code>Runnable</code> process block is just the beginning. No code is actually executed. To do so, we would require the creation of threads that would then individually execute this task.</p>
<h3> <span class="mw-headline" id="Creating_threads">Creating threads</span></h3>
<p>Once we have a <code>Runnable</code> process block, we can create various threads that can then execute the logic encased within such blocks. Multithreading capabilities in Java are utilized and manipulated using the <code>Thread</code> class. A <code>Thread</code> object therefore holds all the necessary logic and devices to create truly multithreaded programs. Consider the following program:</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><img alt="Computer code" src="../../thumbs/0a23a_32px-Nuvola_apps_display.png" width="32" height="32"></td>
<td style="background-color:#f0f0ff; border-left: 4px solid blue; padding-left: 6px; font-family: Monaco, Consolas, 'Courier New', Courier; font-size:1.0em; line-height:1.5 !important;"><b>Code listing 2: Creating <code>Thread</code> objects</b>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">public</span> <span class="kw1">class</span> ThreadLogic
<span class="br0">{</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><span class="kw3">String</span><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw3">Thread</span> t1 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="st0">"Thread-1"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw3">Thread</span> t2 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="st0">"Thread-2"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw3">Thread</span> t3 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="st0">"Thread-3"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
</td>
</tr></table><p>Creating threads is as simple as the above program suggests. You just have to create an object of the <code>Thread</code> class and pass a reference to a <code>Runnable</code> process object. In the case above, we present the <code>Thread</code> constructor with the class object for the <code>RunnableProcess</code> class that we created in <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#code-listing-1">code listing 1</a>. But for each object, we give a different name (i.e., <code>"Thread-1"</code> and <code>"Thread-2"</code>, etc.) to differentiate between the three <code>Thread</code> objects. The above example only declares <code>Thread</code> objects and hasn't yet started them for execution.</p>
<h3> <span class="mw-headline" id="Starting_threads">Starting threads</span></h3>
<p>Now, that we know how to effectively create a <code>Runnable</code> process block and a <code>Thread</code> object that executes it, we need to understand how to start the created <code>Thread</code> objects. This couldn't be simpler. For this process, we will be calling the <code>start()</code> method on the <code>Thread</code> objects and viola, our threads will begin executing their individual process tasks.</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><img alt="Computer code" src="../../thumbs/0a23a_32px-Nuvola_apps_display.png" width="32" height="32"></td>
<td style="background-color:#f0f0ff; border-left: 4px solid blue; padding-left: 6px; font-family: Monaco, Consolas, 'Courier New', Courier; font-size:1.0em; line-height:1.5 !important;"><span id="code-listing-3"><b>Code listing 3: Starting the <code>Thread</code> objects</b></span>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">public</span> <span class="kw1">class</span> ThreadLogic
<span class="br0">{</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><span class="kw3">String</span><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw3">Thread</span> t1 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="st0">"Thread-1"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw3">Thread</span> t2 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="st0">"Thread-2"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw3">Thread</span> t3 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="st0">"Thread-3"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
 
        t1.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        t2.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        t3.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
</td>
</tr></table><p>The above code will start all three declared threads. This way, all three threads will begin their execution one-by-one. However, this being concurrent programming and us having declared random times for the halting of the execution, the outputs for every one of us would differ. Following is the output we received when we executed the above program.</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><img alt="Computer code" src="../../thumbs/0a23a_32px-Nuvola_apps_display.png" width="32" height="32"></td>
<td style="background-color:#f0f0ff; border-left: 4px solid blue; padding-left: 6px; font-family: Monaco, Consolas, 'Courier New', Courier; font-size:1.0em; line-height:1.5 !important;"><b>Output for <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#code-listing-3">code listing 3</a></b>
<pre style="background-color:#000; color:#fff;">
Thread-1 is sleeping for 419
Thread-3 is sleeping for 876
Thread-2 is sleeping for 189
Thread-2 is done
Thread-1 is done
Thread-3 is done
</pre></td>
</tr></table><p>It should be noted that the execution of the <code>Thread</code> didn't occur in the desired order. Instead of the order <code>t1</code>&#8211;<code>t2</code>&#8211;<code>t3</code>, the threads executed in the order of <code>t1</code>&#8211;<code>t3</code>&#8211;<code>t2</code>. The order in which the threads are executed is completely dependant on the operating system and may change for every execution of the program, thus making output of multithreaded application difficult to predict and control. Some people suggest that this is the major reason that adds to the complexity of multithreaded programming and its debugging. However, it should be observed that once the threads were put to sleep using the <code>Thread.sleep(...)</code> function, the execution intervals and order can be predicted quite capably. The thread with the least amount of sleeping time was <code>t2</code> (<code>"Thread-2"</code>) with <code>189</code> milliseconds of sleep hence it got called first. Then <code>t1</code> was called and finally <code>t3</code> was called.</p>
<h2> <span class="mw-headline" id="Manipulating_threads">Manipulating threads</span></h2>
<p>It can be said that the execution order of the threads was manipulated to some degree using the <code>Thread.sleep(...)</code> method. The <code>Thread</code> class has such static methods that can arguably affect the execution order and manipulation of threads. Below are some useful static methods in the <code>Thread</code> class. These methods when called will only affect the currently running threads.</p>
<table class="sortable wikitable"><tr><th style="width:280px; text-align:left;">Method</th>
<th style="text-align:left;">Description</th>
</tr><tr><td><code>Thread.currentThread()</code></td>
<td>Returns the currently executing thread at any given time.</td>
</tr><tr><td><code>Thread.dumpStack()</code></td>
<td>Prints a stack trace of the currently running thread.</td>
</tr><tr><td valign="top"><code>Thread.sleep(long millis)</code></td>
<td>Halts execution of a thread for the given amount of time (in milliseconds).<br><i>throws</i> <code>InterruptedException</code></td>
</tr><tr><td valign="top"><code>Thread.sleep(long millis, int nanos)</code></td>
<td>Halts execution of a thread for the given amount of time (in milliseconds plus provided nanoseconds).<br><i>throws</i> <code>InterruptedException</code></td>
</tr><tr><td><code>Thread.yield()</code></td>
<td>Temporarily pauses the execution of the currently running thread to allow other threads to execute.</td>
</tr></table><h2> <span class="mw-headline" id="Synchronization">Synchronization</span></h2>
<p>Given below is an example of creating and running multiple threads that behave in a synchronous manner such that when one thread is using a particular resource, the others wait until the resource has been release. We will talk more about this in later sections.</p>
<table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><img alt="Computer code" src="../../thumbs/0a23a_32px-Nuvola_apps_display.png" width="32" height="32"></td>
<td style="background-color:#f0f0ff; border-left: 4px solid blue; padding-left: 6px; font-family: Monaco, Consolas, 'Courier New', Courier; font-size:1.0em; line-height:1.5 !important;"><span id="code-listing-4"><b>Code listing 4: Creation of the multiple <code>Thread</code> objects running synchronously</b></span>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">public</span> <span class="kw1">class</span> MultiThreadExample
<span class="br0">{</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">boolean</span> cthread<span class="sy0">;</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw3">String</span> stuff <span class="sy0">=</span> <span class="st0">" printing material"</span><span class="sy0">;</span>
 
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><span class="kw3">String</span> args<span class="br0">[</span><span class="br0">]</span><span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw3">Thread</span> t1 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw3">Thread</span> t2 <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw1">new</span> RunnableProcess<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
        t1.<span class="me1">setName</span><span class="br0">(</span><span class="st0">"Thread-1"</span><span class="br0">)</span><span class="sy0">;</span>
        t2.<span class="me1">setName</span><span class="br0">(</span><span class="st0">"Thread-2"</span><span class="br0">)</span><span class="sy0">;</span>
        t2.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        t1.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
    <span class="coMULTI">/*
     * Prints information about the current thread and the index it is
     * on within the RunnableProcess
     */</span>
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> printFor<span class="br0">(</span><span class="kw4">int</span> index<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw3">StringBuffer</span> sb <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">StringBuffer</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        sb.<span class="me1">append</span><span class="br0">(</span><span class="kw3">Thread</span>.<span class="me1">currentThread</span><span class="br0">(</span><span class="br0">)</span>.<span class="me1">getName</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>.<span class="me1">append</span><span class="br0">(</span><span class="kw1">this</span>.<span class="me1">stuff</span><span class="br0">)</span><span class="sy0">;</span>
        sb.<span class="me1">append</span><span class="br0">(</span><span class="st0">" for the "</span><span class="br0">)</span>.<span class="me1">append</span><span class="br0">(</span>index<span class="br0">)</span>.<span class="me1">append</span><span class="br0">(</span><span class="st0">" time."</span><span class="br0">)</span>
        <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">print</span><span class="br0">(</span>sb.<span class="me1">toString</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
<span class="kw1">class</span> RunnableProcess <span class="kw1">implements</span> <span class="kw3">Runnable</span>
<span class="br0">{</span>
    <span class="kw1">public</span> <span class="kw4">void</span> run<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">for</span><span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> <span class="nu0">10</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">synchronized</span><span class="br0">(</span>MultiThreadExample.<span class="me1">stuff</span><span class="br0">)</span>
            <span class="br0">{</span>
                MultiThreadExample.<span class="me1">printFor</span><span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">try</span>
                <span class="br0">{</span>
                    MultiThreadExample.<span class="me1">stuff</span>.<span class="me1">notifyAll</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                    MultiThreadExample.<span class="me1">stuff</span>.<span class="me1">wait</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="br0">}</span>
                <span class="kw1">catch</span><span class="br0">(</span><span class="kw3">InterruptedException</span> ex<span class="br0">)</span>
                <span class="br0">{</span>
                   ex.<span class="me1">printStackTrace</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="br0">}</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
</td>
</tr></table><table style="padding:2px; margin:2px; width:100%;"><tr valign="top"><td style="width:32px;"><img alt="Computer code" src="../../thumbs/0a23a_32px-Nuvola_apps_display.png" width="32" height="32"></td>
<td style="background-color:#f0f0ff; border-left: 4px solid blue; padding-left: 6px; font-family: Monaco, Consolas, 'Courier New', Courier; font-size:1.0em; line-height:1.5 !important;"><b>Output for <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#code-listing-4">code listing 4</a></b>
<pre style="background-color:#000; color:#fff;">
Thread-1 printing material for the 0 time.
Thread-2 printing material for the 0 time.
Thread-1 printing material for the 1 time.
Thread-2 printing material for the 1 time.
Thread-1 printing material for the 2 time.
Thread-2 printing material for the 2 time.
Thread-1 printing material for the 3 time.
Thread-2 printing material for the 3 time.
Thread-1 printing material for the 4 time.
Thread-2 printing material for the 4 time.
Thread-1 printing material for the 5 time.
Thread-2 printing material for the 5 time.
Thread-1 printing material for the 6 time.
Thread-2 printing material for the 6 time.
Thread-1 printing material for the 7 time.
Thread-2 printing material for the 7 time.
Thread-1 printing material for the 8 time.
Thread-2 printing material for the 8 time.
Thread-1 printing material for the 9 time.
Thread-2 printing material for the 9 time.
</pre></td>
</tr></table><h2> <span class="mw-headline" id="Where_are_threads_used.3F">Where are threads used?</span></h2>
<div class="thumb tright">
<div class="thumbinner" style="width:222px;"><a href="http://en.wikibooks.org/wiki/File:0_A.D._game_screenshot_Video_Preview.jpg" class="image"><img alt="" src="../../thumbs/c8e58_220px-0_A.D._game_screenshot_Video_Preview.jpg" width="220" height="165" class="thumbimage"></a>
<div class="thumbcaption">
<div class="magnify"><a href="http://en.wikibooks.org/wiki/File:0_A.D._game_screenshot_Video_Preview.jpg" class="internal" title="Enlarge"><img src="../../thumbs/6d83a_magnify-clip.png" width="15" height="11" alt=""></a></div>
Video games intensively use threads</div>
</div>
</div>
<p>Threads are used intensively in applications that require a considerable amount of CPU usage. For operations that are time-consuming and intensive, it is usually advised to use threads. A example of such an application would be a typical video game. At any given time, a video game involves various characters, objects in the surroundings and other such nuances that needs to be dealt with simultaneously. Dealing with each element or object within the game requires a fair amount of threads to monitor every object.</p>
<p>For example, take this screenshot of a role-playing strategy game on the right. Here the game visuals depict various in-game characters moving about on the screen. Now imagine processing the movements, direction and behaviours of each of the characters visible on screen. It would certainly take a lot of time moving each character one-by-one if this were to be done one task after another. However if fundamentals of multithreading are employed, each character would move in a synchronous manner with respect to others.</p>
<p>In fact, to be completely honest, it's not just video games that use threads heavily. Threads are used in everything these days &#8211; from simple browser applications to complex operating systems and networking application. It instinctively comes down to the preference of the developer.</p>
<p><br></p>
<h2> <span class="mw-headline" id="References">References</span></h2>
<ol class="references"><li id="cite_note-0"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Threads_and_Runnables&amp;printable=yes#cite_ref-0">&#8593;</a> The number of tasks that can be run simultaneously for a single Java application depends on how many tasks an operating system allows to be multithreaded.</li>
</ol></div>				
								
				
				
												
								
												
				
				
								<div class="visualClear"></div>
				
								
			</div>
			</div></body></html>