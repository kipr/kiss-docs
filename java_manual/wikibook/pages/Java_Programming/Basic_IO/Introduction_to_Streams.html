<html><head><title>Java Programming/Basic IO/Introduction to Streams</title><link media="all" href="../../../misc/modern.css" type="text/css" rel="stylesheet"></head><body class="mediawiki"><div id="content"><h1 class="firstHeading" id="firstHeading">Java Programming/Basic IO/Introduction to Streams</h1><div id="bodyContent">
								
				
				
								
				
				
																
				
				
								
				<div lang="en" dir="ltr" class="mw-content-ltr"><h2> <span class="mw-headline" id="Intro_to_Streams">Intro to Streams</span></h2>
<p>A stream in Java is an ordered sequence of bytes of undetermined length. Streams are ordered and in sequence so that the java virtual machine can understand and work upon the stream. Streams are analogous to water streams.</p>
<p>Streams can be classed as both input and output streams. Input streams acquire bytes for our programmed java application/program and Output Streams direct streams of bytes outwards to the environment from our program or application.Also Java has streams to communicate across different parts of a program or even among threads.</p>
<p>The order or sequence of bytes in a Java stream allow the virtual machine to classify it among other streams. Streams exist as a communication medium, just like electromagnetic waves in communication. Java has various inbuilt streams implemented as classes. Some examples are: System.in and System.out. All Java streams are derived from Input Stream (<code>java.io.InputStream</code>) and Output Stream (<code>java.io.OutputStream</code>) classes. They are abstract base classes meant for other stream classes. The System.in is the input stream class derivative and analogically System.out is the output counterpart. Both are basic classes used to directly interact with input and output through console,similarly follows System.err.</p>
<h2> <span class="mw-headline" id="Stream_methods">Stream methods</span></h2>
<p>Almost all input stream classes have these methods:<br><code>public abstract int read() throws IOException<br>
public int read(byte[] data) throws IOException<br>
public int read(byte[] data, int offset, int length) throws IOException<br>
public long skip(long n) throws IOException<br>
public int available() throws IOException<br>
public void close() throws IOException public synchronized void mark(int readlimit)<br>
public synchronized void reset() throws IOException<br>
public boolean markSupported()<br></code></p>
<p>The first method returns <code>byte</code> as <code>int</code>, which can be casted into <code>char</code>.The second accepts an input sequence of ordered bytes into the specified byte array. The third method is analogous to the previous method, but uses an offset, which sets the start index of an array and length, that determines as to how many bytes to listen to and then copy into the augmented array. Fourth method skips 'n' future bytes and trashes it.Fifth method checks for availability of bytes. Eight and seventh methods don't occur in all streams and they help set flag/marks in bytes so that we can have custom seeks to those flagged locations.Eigth method resets and ninth method checks if marking/flagging is supported by the stream.The sixth method closes stream after proper flushing.</p>
<p>Almost all output stream classes have these methods:<br><code>public abstract void write(int b) throws IOException<br>
public void write(byte[] data) throws IOException<br>
public void write(byte[] data, int offset, int length) throws IOException<br>
public void flush() throws IOException<br>
public void close() throws IOException<br></code></p>
<p><br></p>
<h2> <span class="mw-headline" id="Examples">Examples</span></h2>
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="java source-java">
<pre class="de1">
<span class="kw1">import</span> <span class="co2">java.io.*</span><span class="sy0">;</span>
<span class="kw1">import</span> <span class="co2">java.net.*</span><span class="sy0">;</span>
<span class="coMULTI">/*
 * CLI program to download the content from a specified URL.
 * Usage: java WebDL http://site.com
 */</span>
 
<span class="kw1">public</span> <span class="kw1">class</span> WebDL <span class="br0">{</span>
 
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><span class="kw3">String</span><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span> <span class="br0">{</span>
        <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> args.<span class="me1">length</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span>
            download<span class="br0">(</span>args<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
 
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> download<span class="br0">(</span><span class="kw3">String</span> address<span class="br0">)</span> <span class="br0">{</span>
        <span class="kw3">OutputStream</span> out <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span>
        <span class="kw3">URLConnection</span> conn <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span>
        <span class="kw3">InputStream</span> in <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span>
 
        <span class="kw1">try</span> <span class="br0">{</span>
            <span class="kw3">URL</span> url <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">URL</span><span class="br0">(</span>address<span class="br0">)</span><span class="sy0">;</span>
            conn <span class="sy0">=</span> url.<span class="me1">openConnection</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">String</span> fileName <span class="sy0">=</span> url.<span class="me1">getHost</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">".txt"</span><span class="sy0">;</span>
            out <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">BufferedOutputStream</span><span class="br0">(</span>
                    <span class="kw1">new</span> <span class="kw3">FileOutputStream</span><span class="br0">(</span>fileName<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
 
            in <span class="sy0">=</span> conn.<span class="me1">getInputStream</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw4">byte</span><span class="br0">[</span><span class="br0">]</span> buffer <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw4">byte</span><span class="br0">[</span><span class="nu0">1024</span><span class="br0">]</span><span class="sy0">;</span>
            <span class="kw4">int</span> iRead<span class="sy0">;</span>
            <span class="kw1">while</span> <span class="br0">(</span><span class="br0">(</span>iRead <span class="sy0">=</span> in.<span class="me1">read</span><span class="br0">(</span>buffer<span class="br0">)</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span>
                out.<span class="me1">write</span><span class="br0">(</span>buffer, <span class="nu0">0</span>, iRead<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="st0">"Contents written to "</span> <span class="sy0">+</span> fileName<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span> <span class="kw1">catch</span> <span class="br0">(</span><span class="kw3">Exception</span> ex<span class="br0">)</span> <span class="br0">{</span>
            ex.<span class="me1">printStackTrace</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span> <span class="kw1">finally</span> <span class="br0">{</span>
            <span class="kw1">try</span> <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>in <span class="sy0">!=</span> <span class="kw2">null</span><span class="br0">)</span> <span class="br0">{</span>
                    in.<span class="me1">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="br0">}</span>
                <span class="kw1">if</span> <span class="br0">(</span>out <span class="sy0">!=</span> <span class="kw2">null</span><span class="br0">)</span> <span class="br0">{</span>
                    out.<span class="me1">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="br0">}</span>
            <span class="br0">}</span> <span class="kw1">catch</span> <span class="br0">(</span><span class="kw3">IOException</span> e<span class="br0">)</span> <span class="br0">{</span>
                e.<span class="me1">printStackTrace</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Example: byte b=System.in.read();</p>





</div>				
								
				
				
												
								
												
				
				
								<div class="visualClear"></div>
				
								
			</div>
			</div></body></html>