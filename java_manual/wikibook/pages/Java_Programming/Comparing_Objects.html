<html><head><title>Java Programming/Comparing Objects</title><link media="all" href="../../misc/modern.css" type="text/css" rel="stylesheet"></head><body class="mediawiki"><div id="content"><h1 class="firstHeading" id="firstHeading">Java Programming/Comparing Objects</h1><div id="bodyContent">
								
				
				
								
				
				
																
				
				
								
				<div lang="en" dir="ltr" class="mw-content-ltr"><table class="wikitable" style="float: right;"><tr><td>Navigate <b><a href="Collections.html" title="Java Programming/Collections">Collection</a></b> topic: 
<ul><li> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Introduction</a></li>
<li> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Arrays</a></li>
<li> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Collection Classes</a></li>
</ul><dl><dd>
<dl><dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Collection or Map</a>
<dl><dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Collection</a></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Map</a></dd>
</dl></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Set or List or Queue</a>
<dl><dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Set</a></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">List</a></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Queue</a></dd>
</dl></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Map Classes</a></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Thread Safe Collections</a></dd>
<dd> <a href="Collection_Classes.html" title="Java Programming/Collection Classes">Classes Diagram (UML)</a></dd>
</dl></dd>
</dl><ul><li> <strong class="selflink">Comparing Objects</strong></li>
</ul></td>
</tr></table><p>In Java, we can distingues two kinds of equality.</p>
<ul><li>Object reference equality&#160;: when two object references point to the same object.</li>
<li>Object value equality&#160;: when two separate objects happen to have the same values/state.</li>
</ul><table id="toc" class="toc"><tr><td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul><li class="toclevel-1 tocsection-1"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Comparing_Objects&amp;printable=yes#Comparing_for_reference_equality"><span class="tocnumber">1</span> <span class="toctext">Comparing for reference equality</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Comparing_Objects&amp;printable=yes#Comparing_for_value_equality"><span class="tocnumber">2</span> <span class="toctext">Comparing for value equality</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Comparing_Objects&amp;printable=yes#Sorting.2FOrdering"><span class="tocnumber">3</span> <span class="toctext">Sorting/Ordering</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Comparing_Objects&amp;printable=yes#Change_Sorting.2FOrdering"><span class="tocnumber">4</span> <span class="toctext">Change Sorting/Ordering</span></a></li>
</ul></td>
</tr></table><h2> <span class="mw-headline" id="Comparing_for_reference_equality">Comparing for reference equality</span></h2>
<p>The '==' operator can be used to check if two object reference point to the same object.</p>
<pre>
<code><a href="Keywords/if.html" title="Java Programming/Keywords/if"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">if</font></a></code> ( objRef1 == objRef2 )
{
    // --- The two object reference point to the same object
}
</pre>
<h2> <span class="mw-headline" id="Comparing_for_value_equality">Comparing for value equality</span></h2>
<p>To be able to compare two Java objects of the same class the '<code><code><a href="Keywords/boolean.html" title="Java Programming/Keywords/boolean"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">boolean</font></a></code> equals(<code><a href="API/java.lang.Object.html" title="Java Programming/API/java.lang.Object">Object</a></code> obj)</code>' method must be overriden and implemented by the class.</p>
<p>The implementor decides which values must be equal to consider two objects to be equal. For example in the below class, the <code>name</code> and the <code>address</code> must be equal but not the <code>description</code>.</p>
<pre>
<code><a href="Keywords/public.html" title="Java Programming/Keywords/public"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">public</font></a></code> <code><a href="Keywords/class.html" title="Java Programming/Keywords/class"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">class</font></a></code> Customer 
{
  <code><a href="Keywords/private.html" title="Java Programming/Keywords/private"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">private</font></a></code> <code><a href="API/java.lang.String.html" title="Java Programming/API/java.lang.String">String</a></code> name;
  <code><a href="Keywords/private.html" title="Java Programming/Keywords/private"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">private</font></a></code> <code><a href="API/java.lang.String.html" title="Java Programming/API/java.lang.String">String</a></code> address;
  <code><a href="Keywords/private.html" title="Java Programming/Keywords/private"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">private</font></a></code> <code><a href="API/java.lang.String.html" title="Java Programming/API/java.lang.String">String</a></code> description;
...
  <code><a href="Keywords/public.html" title="Java Programming/Keywords/public"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">public</font></a></code> <code><a href="Keywords/boolean.html" title="Java Programming/Keywords/boolean"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">boolean</font></a></code> equals(<code><a href="API/java.lang.Object.html" title="Java Programming/API/java.lang.Object">Object</a></code> obj)
  {
    //if the two objects are equal in reference, they are equal
    if(this == obj)
      return true;
    if (obj <code><a href="Keywords/instanceof.html" title="Java Programming/Keywords/instanceof"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">instanceof</font></a></code> Customer)
    {
      Customer cust = (Customer) obj;
      <code><a href="Keywords/return.html" title="Java Programming/Keywords/return"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">return</font></a></code> cust.getName().equals( this.getName() ) &amp;&amp;
          cust.getAddress().equals( this.getAddress() );
    }
    else
    {
      <code><a href="Keywords/return.html" title="Java Programming/Keywords/return"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">return</font></a></code> <code><a href="Literals/Boolean_Literals/false.html" title="Java Programming/Literals/Boolean Literals/false"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">false</font></a></code>;
    }
  }
}
</pre>
<p>After the <code>equals()</code> method is overriden, two objects from the same class can be compared as like this:</p>
<pre>
Customer cust1 = <code><a href="Keywords/new.html" title="Java Programming/Keywords/new"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">new</font></a></code> Customer();
Customer cust2 = <code><a href="Keywords/new.html" title="Java Programming/Keywords/new"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">new</font></a></code> Customer();
...
if ( cust1.equals( cust2 ) )
{
   // --- Two Customers are equal, by name and address ---
}
</pre>
<p>Note that some VMs may optimize the number of equals call by using the hashCode method. Therefore, it is advisable to override hashCode together with equals. The hashCode method has to ensure that if two objects are equal, their hash codes must be equal.</p>
<h2> <span class="mw-headline" id="Sorting.2FOrdering">Sorting/Ordering</span></h2>
<p>To be able to sort objects from the same class, the class must implement the <code>Comparable</code> interface.</p>
<dl><dt><code>Comparable</code> interface&#160;</dt>
<dd>imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the class's natural ordering, and the class's compareTo method is referred to as its natural comparison method.</dd>
</dl><p>Since Java 5.0, the <code>Comparable</code> interface is generic; that means when you implement it, you have to specify what your class can be compared to. Usually, this is the same as your class.</p>
<pre>
<code><a href="Keywords/public.html" title="Java Programming/Keywords/public"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">public</font></a></code> <code><a href="Keywords/class.html" title="Java Programming/Keywords/class"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">class</font></a></code> Customer <code><a href="Keywords/implements.html" title="Java Programming/Keywords/implements"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">implements</font></a></code> Comparable&lt;Customer&gt;
{
  <code><a href="Keywords/private.html" title="Java Programming/Keywords/private"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">private</font></a></code> <code><a href="API/java.lang.String.html" title="Java Programming/API/java.lang.String">String</a></code> name;
  <code><a href="Keywords/private.html" title="Java Programming/Keywords/private"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">private</font></a></code> <code><a href="API/java.lang.String.html" title="Java Programming/API/java.lang.String">String</a></code> address;
  <code><a href="Keywords/private.html" title="Java Programming/Keywords/private"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">private</font></a></code> <code><a href="API/java.lang.String.html" title="Java Programming/API/java.lang.String">String</a></code> description;
...
  <code><a href="Keywords/public.html" title="Java Programming/Keywords/public"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">public</font></a></code> <code><a href="Keywords/int.html" title="Java Programming/Keywords/int"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">int</font></a></code> compareTo(Customer cust)
  {
    <code><a href="Keywords/int.html" title="Java Programming/Keywords/int"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">int</font></a></code> iRet = ( this.getName()+this.getAddress() ).<b>compareTo</b>( cust.getName()+cust.getAddress() );
    <code><a href="Keywords/return.html" title="Java Programming/Keywords/return"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">return</font></a></code> iRet;
  }
}
</pre>
<p>In the above code the <code>String</code> class also implements the <code>Comparable&lt;String&gt;</code> interface, so the <code>compareTo()</code> method can be used to compare <code>name</code> and <code>address</code>.</p>
<dl><dt><code><a href="Keywords/int.html" title="Java Programming/Keywords/int"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">int</font></a></code> compareTo(T o)&#160;</dt>
<dd>Compares this object with the specified object for order. Returns a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object.</dd>
</dl><p>Lists (and arrays) of objects that implement this interface can be sorted automatically by Collections.sort (and Arrays.sort). Objects that implement this interface can be used as keys in a sorted map or elements in a sorted set, without the need to specify a comparator.</p>
<p>The natural ordering for a class C is said to be consistent with equals if and only if (e1.compareTo((Object)e2) == 0) has the same boolean value as e1.equals((Object)e2) for every e1 and e2 of class C. Note that null is not an instance of any class, and e.compareTo(null) should throw a NullPointerException even though e.equals(null) returns false.</p>
<p>It is strongly recommended (though not required) that natural orderings be consistent with equals. This is so because sorted sets (and sorted maps) without explicit comparators behave "strangely" when they are used with elements (or keys) whose natural ordering is inconsistent with equals. In particular, such a sorted set (or sorted map) violates the general contract for set (or map), which is defined in terms of the equals method.</p>
<h2> <span class="mw-headline" id="Change_Sorting.2FOrdering">Change Sorting/Ordering</span></h2>
<p>Sometimes we may want to change the ordering of a collection of objects from the same class. We may want to order descending or ascending order. We may want to sort by <code>name</code> or by <code>address</code>.</p>
<p>We need to create a class for each way of ordering. It has to implement the <code>Comparator</code> interface.</p>
<p>Since Java 5.0, the <code>Comparator</code> interface is generic; that means when you implement it, you have to specify what type of objects your comparator can compare.</p>
<pre>
<code><a href="Keywords/public.html" title="Java Programming/Keywords/public"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">public</font></a></code> <code><a href="Keywords/class.html" title="Java Programming/Keywords/class"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">class</font></a></code> CustComparatorByName <code><a href="Keywords/implements.html" title="Java Programming/Keywords/implements"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">implements</font></a></code> Comparator&lt;Customer&gt;
{
    <code><a href="Keywords/public.html" title="Java Programming/Keywords/public"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">public</font></a></code> <code><a href="Keywords/int.html" title="Java Programming/Keywords/int"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">int</font></a></code> compare(Customer cust1, Customer cust2)
    {
       <code><a href="Keywords/return.html" title="Java Programming/Keywords/return"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">return</font></a></code> cust1.getName().compareTo(cust2.getName());
    }
}
</pre>
<p>The above class then can be associated with a SortedSet or other collections that support sorting.</p>
<pre>
Collection&lt;Customer&gt; custSetByName = <code><a href="Keywords/new.html" title="Java Programming/Keywords/new"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">new</font></a></code> TreeSet&lt;Customer&gt;( <code><a href="Keywords/new.html" title="Java Programming/Keywords/new"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">new</font></a></code> CustComparatorByName() );
</pre>
<p>Using the Iterator the <code>custSetByName</code> collection can be iterated in order of sorted by <code>name</code>.</p>
<p>A List can be sorted by the <code>Collections</code>'s <code>sort</code> method.</p>
<pre>
<code><a href="Keywords/import.html" title="Java Programming/Keywords/import"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">import</font></a></code> java.util.Collections
...
Collections.sort( custList, <code><a href="Keywords/new.html" title="Java Programming/Keywords/new"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">new</font></a></code> CustComparatorByName() );
</pre>
<p>Sorts the specified list according to the order induced by the specified comparator. All elements in the list must be mutually comparable using the specified comparator</p>
<p>Also an array of objects can be sorted with the help of a Comparator.</p>
<pre>
<code><a href="Keywords/import.html" title="Java Programming/Keywords/import"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">import</font></a></code> java.util.Arrays
...
Arrays.sort( cust[], <code><a href="Keywords/new.html" title="Java Programming/Keywords/new"><font style="color:DodgerBlue4; text-decoration: none; font-weight: bold;">new</font></a></code> CustComparatorByName() );
</pre>
<p>Sorts the specified array of Customer objects (cust[] array) according to the order induced by the specified comparator. All elements in the array must be mutually comparable by the specified comparator.</p>





</div>				
								
				
				
												
								
												
				
				
								<div class="visualClear"></div>
				
								
			</div>
			</div></body></html>