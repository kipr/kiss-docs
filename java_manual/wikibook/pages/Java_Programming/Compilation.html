<html><head><title>Java Programming/Compilation</title><link media="all" href="../../misc/modern.css" type="text/css" rel="stylesheet"></head><body class="mediawiki"><div id="content"><h1 class="firstHeading" id="firstHeading">Java Programming/Compilation</h1><div id="bodyContent">
								
				
				
								
				
				
																
				
				
								
				<div lang="en" dir="ltr" class="mw-content-ltr"><table class="wikitable" style="float: right;"><tr><td>Navigate <b><a href="Getting_started.html" title="Java Programming/Getting started">Getting Started</a></b> topic: 
<ul><li><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Installation&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Installation (does not exist)">Installing Java on Your Computer</a></li>
<li><strong class="selflink">Compiling programs</strong></li>
<li><a href="Execution.html" title="Java Programming/Execution">Running Java programs</a></li>
<li><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/First_Java_Program&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/First Java Program (does not exist)">Developing the first Java program</a></li>
<li><a href="Understanding_a_Java_Program.html" title="Java Programming/Understanding a Java Program">Understanding a Java program</a></li>
</ul></td>
</tr></table><p>We have already discussed <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Java_Programming_Environment&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Java Programming Environment (does not exist)">compilation basics</a> . Here's a recap of the concepts we'd seen earlier and some additional details.</p>
<table id="toc" class="toc"><tr><td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul><li class="toclevel-1 tocsection-1"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Compiling_to_bytecode"><span class="tocnumber">1</span> <span class="toctext">Compiling to bytecode</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Automatic_Compilation_of_Dependent_Classes"><span class="tocnumber">2</span> <span class="toctext">Automatic Compilation of Dependent Classes</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Packages.2C_Subdirectories.2C_and_Resources"><span class="tocnumber">3</span> <span class="toctext">Packages, Subdirectories, and Resources</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Filename_Case"><span class="tocnumber">4</span> <span class="toctext">Filename Case</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Compiler_Options"><span class="tocnumber">5</span> <span class="toctext">Compiler Options</span></a>
<ul><li class="toclevel-2 tocsection-6"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Debugging_and_Symbolic_Information"><span class="tocnumber">5.1</span> <span class="toctext">Debugging and Symbolic Information</span></a></li>
</ul></li>
<li class="toclevel-1 tocsection-7"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Additional_Tools"><span class="tocnumber">6</span> <span class="toctext">Additional Tools</span></a>
<ul><li class="toclevel-2 tocsection-8"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#IDEs"><span class="tocnumber">6.1</span> <span class="toctext">IDEs</span></a></li>
</ul></li>
<li class="toclevel-1 tocsection-9"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#JBuilder"><span class="tocnumber">7</span> <span class="toctext">JBuilder</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#JCreator"><span class="tocnumber">8</span> <span class="toctext">JCreator</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Eclipse"><span class="tocnumber">9</span> <span class="toctext">Eclipse</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#NetBeans"><span class="tocnumber">10</span> <span class="toctext">NetBeans</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#BlueJ"><span class="tocnumber">11</span> <span class="toctext">BlueJ</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Kawa"><span class="tocnumber">12</span> <span class="toctext">Kawa</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#Ant"><span class="tocnumber">13</span> <span class="toctext">Ant</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Compilation&amp;printable=yes#The_JIT_compiler"><span class="tocnumber">14</span> <span class="toctext">The JIT compiler</span></a></li>
</ul></td>
</tr></table><h2> <span class="mw-headline" id="Compiling_to_bytecode">Compiling to bytecode</span></h2>
<p>In Java, programs are not compiled into executable files; they are compiled into <a href="http://en.wikipedia.org/wiki/Bytecode" class="extiw" title="w:Bytecode">Bytecode</a> (as discussed <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Java_Programming_Environment&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Java Programming Environment (does not exist)">earlier</a>), which the JVM then executes at runtime. Java source code is compiled into bytecode when we use the <code>javac</code> compiler. The bytecode gets saved on the disk with the file extension <code>.class</code>. When the program is to be run, the bytecode is converted, using the <a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Java_Programming_Environment&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Java Programming Environment (does not exist)">Just-In-Time(JIT) compiler</a>. The result is machine code which is then fed to the memory and is executed.</p>
<p>So Java has four step compilation:</p>
<ul><li>compiler will check the syntactical error</li>
<li>create byte-code</li>
<li>create a blank *.class file</li>
<li>merge that byte code to that blank *.class file</li>
</ul><p>The Java classes/Byte Codes are compiled to machine code and loaded into memory by the JVM when needed the first time. This is different than other languages like C/C++ where the whole program had to be compiled to machine code and linked to create an executable file, before the program could start.</p>
<p>JIT compilers compile byte-code once and the compiled machine code are re-used again and again, to speed up execution. Early Java compilers compiled the byte-code to machine code each time it was used, but more modern compilers cache this machine code for reuse on the machine. Even then, java's JIT compiling was still faster than an "interpreter-language", where code is compiled from <b>high level language</b>, instead of from byte-code each time it was used.</p>
<h2> <span class="mw-headline" id="Automatic_Compilation_of_Dependent_Classes">Automatic Compilation of Dependent Classes</span></h2>
<p>In Java, if you have used any reference to any other java object, then the class for that object will be automatically compiled, if that was not compiled already. These automatic compilations are nested, and this continues until all classes are compiled that are needed to run the program. It is usually enough to compile only the high level class, since all the dependent classes will be automatically compiled.</p>
<pre>
javac ... MainClass.java
</pre>
<p>However, you can't rely on this feature if your program is using reflection to create objects, or you are compiling for servlets or a "jar" package. In these cases you should list these classes for explicit compilation.</p>
<pre>
javac ... MainClass.java, ServletOne.java, ...
</pre>
<p>The best way is to use a build tool to build your application. The build tool would check all the needed dependencies and compile only the needed class for the build. The <a href="http://en.wikibooks.org/wiki/Java_Programming/Compilation#Ant" title="Java Programming/Compilation">Ant</a> tool is the best and the most popular build tool currently available. Using <a href="http://en.wikibooks.org/wiki/Java_Programming/Compilation#Ant" title="Java Programming/Compilation">Ant</a> you would build your application from the command line by typing:</p>
<pre>
ant build.xml
</pre>
<p>The xml file contains all the information needed to build the application.</p>
<p><b>Note:</b> In rare cases, your code may appear to compile correctly but the program behaves as if you were using an old copy of the source code (or otherwise reports errors during runtime.) When this occurrs, you may need to clean your compilation folder by either deleting the class files or using the Clean command from the IDE.</p>
<p>The next most popular way to build applications are using an IDE. IDE stands for <i>Integrated Development Environment</i>, examples of which are listed below.</p>
<h2> <span class="mw-headline" id="Packages.2C_Subdirectories.2C_and_Resources">Packages, Subdirectories, and Resources</span></h2>
<p>Each Java top level class belongs to a package (covered in the chapter about <a href="Packages.html" title="Java Programming/Packages">Packages</a>). This may be declared in a <tt>package</tt> statement at the beginning of the file; if that is missing, the class belongs to the unnamed package.</p>
<p>For compilation, the file must be in the right directory structure. A file containing a class in the unnamed package must be in the current/root directory; if the class belongs to a package, it must be in a directory with the same name as the package.</p>
<p>The convention is that package names and directory names corresponding to the package consist of only lower case letters.</p>
<div style="background: #ffCC99; border: 1px solid #aaaaaa; padding: 6pt; margin: 12pt 0.5em; width: -0.5em">
<div class="floatleft"><a href="http://en.wikibooks.org/wiki/File:Evolution-tasks.png" class="image" title="Example"><img alt="Example" src="../../thumbs/ab142_40px-Evolution-tasks.png" width="40" height="40"></a></div>
<b>Example:</b><br><p><b>Top level package.</b> A class with this package declaration <code>package example;</code> has to be in a directory named <code>example</code></p>
</div>
<div style="background: #ffCC99; border: 1px solid #aaaaaa; padding: 6pt; margin: 12pt 0.5em; width: -0.5em">
<div class="floatleft"><a href="http://en.wikibooks.org/wiki/File:Evolution-tasks.png" class="image" title="Example"><img alt="Example" src="../../thumbs/ab142_40px-Evolution-tasks.png" width="40" height="40"></a></div>
<b>Example:</b><br><p><b>Subpackages.</b> A class with this package declaration <code>package org.wikibooks.en;</code> has to be in the <code>org/wikibooks/en</code> directory.</p>
</div>
<p>Java programs often contain non-code files such as images and properties files. These are referred to generally as 'resources' and stored in directories local to the classes in which they're used. For example, if the class <code>com.example.ExampleApp</code> uses the <code>icon.png</code> file, this file could be stored as <code>/com/example/resources/icon.png</code>. These resources present a problem when a program is complied, because <code>javac</code> does not copy them to wherever the <code>.class</code> files are being complied to (see above); it is up to the programmer to move the resource files and directories. <i>See also the section on how to automate this using <a href="http://en.wikibooks.org/wiki/Java_Programming/Compilation#Ant" title="Java Programming/Compilation"><code>ant</code></a>, below.</i></p>
<h2> <span class="mw-headline" id="Filename_Case">Filename Case</span></h2>
<p>The Java source file name must be the same as the public class name, the file contains. There can be only one public class defined per file. The Java class name is case sensitive, as is the source file name.</p>
<p>The naming convention for the class name is for it to start with a capital letter.</p>
<h2> <span class="mw-headline" id="Compiler_Options">Compiler Options</span></h2>
<h3> <span class="mw-headline" id="Debugging_and_Symbolic_Information">Debugging and Symbolic Information</span></h3>
<h2> <span class="mw-headline" id="Additional_Tools">Additional Tools</span></h2>
<h3> <span class="mw-headline" id="IDEs">IDEs</span></h3>
<p>This section contains a little about the different IDEs available and their strengths and weaknesses.</p>
<h2> <span class="mw-headline" id="JBuilder">JBuilder</span></h2>
<p>JBuilder is a IDE with proprietary source code, sold by <a href="http://en.wikibooks.org/w/index.php?title=Borland&amp;action=edit&amp;redlink=1" class="new" title="Borland (does not exist)">Borland</a>. One of the advantages in integration with together, a modeling tool.</p>
<h2> <span class="mw-headline" id="JCreator">JCreator</span></h2>
<p>There's info at: <a rel="nofollow" class="external free" href="http://www.apcomputerscience.com/ide/jcreator/index.htm">http://www.apcomputerscience.com/ide/jcreator/index.htm</a></p>
<h2> <span class="mw-headline" id="Eclipse">Eclipse</span></h2>
<p>Eclipse is a free IDE, plus a developer tool framework that can be extended for a particular development need. IBM was behind this free software development and it replaced IBM Visual Age tool. The idea was to create a standard look and feel that can be extended. The extendibility has distinguished Eclipse from other IDE tools. Eclipse also meant to compete with Microsoft Visual Studio tools. Microsoft tools give a standard way of developing code in the Microsoft world. Eclipse gives a similar standard way of developing code in the Java world, with big success so far. With the online error checking only, coding can be speed up by at least 50%(coding does not include programming).</p>
<p>The goal for Eclipse are twofold:</p>
<ul><li>Give a standard IDE for developing code</li>
<li>Give a starting point, and the same look and feel for all other more sophisticated tools built on Eclipse</li>
</ul><p>IBM's WSAD, and later IBM Rational Software Development Platform are built on Eclipse.</p>
<p>Standard Eclipse features:</p>
<ul><li>Standard window management (perspectives, views, browsers, explorers, ...)</li>
<li>As you type error checking (immediate error indications, ...)</li>
<li>As you type help window (type ., or &lt;ctrl&gt; space, ...)</li>
<li>Automatic build (changed source code automatically compiled, ...)</li>
<li>Built in debugger (full featured GUI debugger)</li>
<li>Source code generation (getters and setters, ...)</li>
<li>Searches (for implementation, for references, ...)</li>
<li>Code refactoring (global reference update, ...)</li>
<li>Plug-in-based architecture (be able to build tools that integrate seamlessly with the environment and other tools)</li>
<li>...</li>
</ul><p>For more information see;</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.eclipse.org/">Eclipse</a> .</li>
<li><a rel="nofollow" class="external text" href="http://www.eclipseplugincentral.com/">Plugincentral</a></li>
</ul><h2> <span class="mw-headline" id="NetBeans">NetBeans</span></h2>
<p>The NetBeans IDE is a free, open-source Integrated Development Environment for software developers. The IDE runs on many platforms including Windows, Linux, Solaris, and the MacOS. It is easy to install and use straight out of the box. The NetBeans IDE provides developers with all the tools they need to create professional cross-platform desktop, enterprise, web and mobile applications.</p>
<p>More info can be found at <a rel="nofollow" class="external free" href="http://www.netbeans.org/products/ide/">http://www.netbeans.org/products/ide/</a></p>
<h2> <span class="mw-headline" id="BlueJ">BlueJ</span></h2>
<p>BlueJ is an IDE that includes templates and will compile and run the applications for you. BlueJ is often used by classes because it is not necessary to set classpaths. BlueJ has it's own sets of Library's and you can add your own under preferences. That sets the classpath for all compilations that come out of it to include those you have added and the BlueJ libraries.<br><br>
BlueJ offers an interesting GUI for the creation of packages and programs. Classes are represented as boxes with arrows running between them to represent inheritance/implementation or if one is constructed in another. BlueJ adds all those classes (the project) into the classpath at compile time.<br><a rel="nofollow" class="external text" href="http://www.bluej.org">BlueJ Homesite</a></p>
<h2> <span class="mw-headline" id="Kawa">Kawa</span></h2>
<p>Kawa was developed by Tek-Tools. It is basically a Java editor which does not include wizards, and GUI tools. It is best suited to experienced Java programmers in small and midsized development teams.</p>
<p>The latest version is 4.0, you can <a rel="nofollow" class="external text" href="http://www.olabs.com/kawa/">download it.</a> For more info. see <a rel="nofollow" class="external text" href="http://www.tek-tools.com/kawa/">Kawa from tek-tools</a>. See a <a rel="nofollow" class="external text" href="http://www.javaworld.com/javaworld/jw-06-2000/jw-0602-iw-kawa.html">javaworld article</a></p>
<p>It looks that there is no new development for Kawa.</p>
<h2> <span class="mw-headline" id="Ant">Ant</span></h2>
<p><i>For comprehensive information about all aspects of Ant, please see the <a href="http://en.wikibooks.org/wiki/Programming:Apache_Ant" title="Programming:Apache Ant" class="mw-redirect">Ant Wikibook</a>.</i></p>
<p>Ant is a build management tool designed to replace <code>make</code> as the tool for automated builds of large Java applications. Like Java, and unlike <code>make</code>, Ant is designed to be platform independent.</p>
<p>Building a Java application requires certain tasks to be performed. Those tasks may include not only compiling the code, but also copying files, packaging the program into a <code>jar</code> file, running tests and so on. Some of these tasks may depend upon others having been done previously (not creating a <code>jar</code> unless the program has been complied, for instance). It might also be a good idea to not execute all tasks every time the program is complied -- e.g. to only compile changed source files. <b>Ant makes all of these things easy.</b></p>
<p>The tasks and their dependencies are defined in a <code>build.xml</code> file, generally kept in the root directory of the java project. Ant parses this file and executes the tasks therein. Below we give an example <code>build.xml</code> file.</p>
<p>Ant tool is written in Java and is open source, so it can be extended if there is a task you'd like to be done during the build that is not in the pre-defined tasks list. It is very easy to hook your ant task code to the other tasks: your code only needs to be in the classpath, and the Ant tool will load it at runtime. For more information about writing your own Ant tasks, please see the project website at <a rel="nofollow" class="external free" href="http://ant.apache.org/">http://ant.apache.org/</a>.</p>
<div class="collapsible" style="border:1px solid #aaaaaa; width:100%; background:#ccccff;">
<div class="title" style="text-align:left; padding:0.5em; background:#ccccff; color:black;">Example <code>build.xml</code> file.</div>
<div class="NavContent" style="margin:0.5em; margin-top:0em; background:white; border:1px solid #aaaaaa;">
<div dir="ltr" class="mw-geshi" style="text-align: left;">
<div class="xml source-xml"><span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">"1.0"</span><span class="re2">?&gt;</span></span><br><br><span class="sc3"><span class="re1">&lt;project</span> <span class="re0">name</span>=<span class="st0">"ExampleApp"</span> <span class="re0">basedir</span>=<span class="st0">"."</span> <span class="re0">default</span>=<span class="st0">"main"</span><span class="re2">&gt;</span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">"source.dir"</span> &#160; &#160;<span class="re0">value</span>=<span class="st0">"source"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">"libraries.dir"</span> <span class="re0">value</span>=<span class="st0">"libraries"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">"build.dir"</span> &#160; &#160; <span class="re0">value</span>=<span class="st0">"build"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">"classes.dir"</span> &#160; <span class="re0">value</span>=<span class="st0">"${build.dir}/classes"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">"dist.dir"</span> &#160; &#160; &#160;<span class="re0">value</span>=<span class="st0">"${build.dir}/dist"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;property</span> <span class="re0">name</span>=<span class="st0">"main-class"</span> &#160; &#160;<span class="re0">value</span>=<span class="st0">"com.example.ExampleApp"</span><span class="re2">/&gt;</span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;path</span> <span class="re0">id</span>=<span class="st0">"classpath"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;fileset</span> <span class="re0">dir</span>=<span class="st0">"${libraries.dir}"</span> <span class="re0">includes</span>=<span class="st0">"**/*.jar"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;/path<span class="re2">&gt;</span></span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"clean"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;delete</span> <span class="re0">dir</span>=<span class="st0">"${build.dir}"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;/target<span class="re2">&gt;</span></span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"compile"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;mkdir</span> <span class="re0">dir</span>=<span class="st0">"${classes.dir}"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;javac</span> <span class="re0">srcdir</span>=<span class="st0">"${source.dir}"</span> <span class="re0">destdir</span>=<span class="st0">"${classes.dir}"</span> <span class="re0">classpathref</span>=<span class="st0">"classpath"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;copy</span> <span class="re0">todir</span>=<span class="st0">"${classes.dir}"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;fileset</span> <span class="re0">dir</span>=<span class="st0">"${src.dir}"</span> <span class="re0">excludes</span>=<span class="st0">"**/*.java"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/copy<span class="re2">&gt;</span></span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;/target<span class="re2">&gt;</span></span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"build"</span> <span class="re0">depends</span>=<span class="st0">"compile"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;mkdir</span> <span class="re0">dir</span>=<span class="st0">"${dist.dir}"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;copy</span> <span class="re0">todir</span>=<span class="st0">"${dist.dir}/lib"</span> <span class="re0">flatten</span>=<span class="st0">"true"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;path</span> <span class="re0">refid</span>=<span class="st0">"classpath"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/copy<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;path</span> <span class="re0">id</span>=<span class="st0">"dist.classpath"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;fileset</span> <span class="re0">dir</span>=<span class="st0">"${dist.dir}/lib"</span> <span class="re0">includes</span>=<span class="st0">"*.jar"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/path<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;manifestclasspath</span> <span class="re0">property</span>=<span class="st0">"dist.manifest.classpath"</span> <span class="re0">jarfile</span>=<span class="st0">"${dist.dir}/${ant.project.name}.jar"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;classpath</span> <span class="re0">refid</span>=<span class="st0">"dist.classpath"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/manifestclasspath<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;jar</span> <span class="re0">destfile</span>=<span class="st0">"${dist.dir}/${ant.project.name}.jar"</span> <span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;zipfileset</span> <span class="re0">dir</span>=<span class="st0">"${classes.dir}"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;manifest<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;attribute</span> <span class="re0">name</span>=<span class="st0">"Class-Path"</span> <span class="re0">value</span>=<span class="st0">"${dist.manifest.classpath}"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;attribute</span> <span class="re0">name</span>=<span class="st0">"Main-Class"</span> <span class="re0">value</span>=<span class="st0">"${main-class}"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/manifest<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/jar<span class="re2">&gt;</span></span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;/target<span class="re2">&gt;</span></span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"run-build"</span> <span class="re0">depends</span>=<span class="st0">"build"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;java</span> <span class="re0">jar</span>=<span class="st0">"${dist.dir}/${ant.project.name}.jar"</span> <span class="re0">fork</span>=<span class="st0">"true"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;classpath<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;path</span> <span class="re0">refid</span>=<span class="st0">"classpath"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;path</span> <span class="re0">location</span>=<span class="st0">"${dist.dir}/${ant.project.name}.jar"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/classpath<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/java<span class="re2">&gt;</span></span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;/target<span class="re2">&gt;</span></span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"run"</span> <span class="re0">depends</span>=<span class="st0">"compile"</span><span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;java</span> <span class="re0">classname</span>=<span class="st0">"${main-class}"</span> <span class="re2">&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;classpath<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;path</span> <span class="re0">refid</span>=<span class="st0">"classpath"</span><span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;pathelement</span> <span class="re0">location</span>=<span class="st0">"${classes.dir}"</span> <span class="re2">/&gt;</span></span><br>
&#160; &#160; &#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/classpath<span class="re2">&gt;</span></span></span><br>
&#160; &#160; &#160; &#160; <span class="sc3"><span class="re1">&lt;/java<span class="re2">&gt;</span></span></span><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;/target<span class="re2">&gt;</span></span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"clean-build"</span> <span class="re0">depends</span>=<span class="st0">"clean,build"</span><span class="re2">/&gt;</span></span><br><br>
&#160; &#160; <span class="sc3"><span class="re1">&lt;target</span> <span class="re0">name</span>=<span class="st0">"main"</span> <span class="re0">depends</span>=<span class="st0">"clean,run"</span><span class="re2">/&gt;</span></span><br><br><span class="sc3"><span class="re1">&lt;/project<span class="re2">&gt;</span></span></span></div>
</div>
</div>
</div>
<h2> <span class="mw-headline" id="The_JIT_compiler">The JIT compiler</span></h2>
<p>The standard JIT compiler runs <i>on demand</i>. When a method is called repeatedly, the JIT compiler analyzes the bytecode and produces highly efficient machine code, which runs very fast. The JIT compiler is smart enough to recognize when the code has already been compiled, so as the application runs, compilation happens only as needed. As Java applications run, they tend to become faster and faster, because the JIT can perform runtime profiling and optimization to the code to meet the execution environment. Methods or code blocks which do not run often receive less optimization; those which run often (so called <i>hotspots</i>) receive more profiling and optimization.</p>
<hr><p><br></p>
<table class="toccolours" style="width: 500px; margin: 0px auto;"><tr><th colspan="2"><a href="../Java_Programming.html" title="Java Programming">Java Programming</a></th>
<th colspan="2"><a href="http://en.wikibooks.org/wiki/Category:Java_Programming" title="Category:Java Programming">Index</a></th>
</tr><tr><td><a href="Introduction.html" title="Java Programming/Introduction">Introduction</a>&#160;&#160;</td>
<td><a href="Getting_started.html" title="Java Programming/Getting started">Getting Started</a>&#160;&#160;</td>
<td><a href="Language_Fundamentals.html" title="Java Programming/Language Fundamentals">Fundamentals</a>&#160;&#160;</td>
<td><a href="Classes_and_Objects.html" title="Java Programming/Classes and Objects">Classes and Objects</a>&#160;&#160;</td>
</tr><tr><td><a href="Collections.html" title="Java Programming/Collections">Collections</a>&#160;&#160;</td>
<td><a href="Exceptions.html" title="Java Programming/Exceptions">Exceptions</a>&#160;&#160;</td>
<td><a href="http://en.wikibooks.org/w/index.php?title=Java_Programming/Concurrent_Progamming&amp;action=edit&amp;redlink=1" class="new" title="Java Programming/Concurrent Progamming (does not exist)">Concurrent Programming</a>&#160;&#160;</td>
<td><a href="Reflection.html" title="Java Programming/Reflection">Reflection</a></td>
</tr><tr><td><a href="Applets.html" title="Java Programming/Applets">Applets</a>&#160;&#160;</td>
<td><a href="JavaBeans.html" title="Java Programming/JavaBeans">JavaBeans</a></td>
<td><a href="Libraries.html" title="Java Programming/Libraries">Libraries</a></td>
</tr></table></div>				
								
				
				
												
								
												
				
				
								<div class="visualClear"></div>
				
								
			</div>
			</div></body></html>